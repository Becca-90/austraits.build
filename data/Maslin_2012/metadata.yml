source:
  primary:
    key: Maslin_2012
    bibtype: Misc
    author: Bruce Maslin
    title: WATTLE - Acacias of Australia
    year: 2012
people:
- name: Bruce Maslin
  institution: Macquarie University Sydney
  role: collector
- name: Brendan Lepschi
  institution: CSIRO
  role: custodian
- name: Rachael Gallagher
  institution: Macquarie University Sydney
  role: contributor
dataset:
  year_collected_start: 2012
  year_collected_end: 2012
  description: Wattle dataset from Bruce Maslin treatment 2012
  collection_type: herbarium specimens
  sample_age_class: adult_assumed
  sampling_strategy: unknown
  original_file: STU
  notes: .na
config:
  is_vertical: yes
  variable_match:
    species_name: species_name
    trait_name: trait
    unit: units
    value: value
  custom_R_code: |-
    traits <- c("leaf length maximum", "leaf length minimum", "leaf width maximum", "leaf width minimum", "plant height maximum", "plant height minimum"); a <- list(cm=10, m=1000); for(t in traits){ for(v in names(a)) { i <- which(data[["trait"]]==t & data[["units"]] == v); data[["value"]][i] <- as.character(as.numeric(data[["value"]][i]) * a[[v]]); data[["units"]][i] <- "mm"; }; };
    i <- data$trait == "flowering time start"; data[i, "value"] <- format_flowering_months(data[i,]$value, data[data$trait == "flowering time end",]$value); data[i, "trait"] <- "flowering_time"; data <- data[!data$trait == "flowering time end",];
    leaf_phenology <- data[data$trait == "longevity",]; life_history <- data[data$trait == "longevity",]; leaf_phenology[leaf_phenology$trait == "longevity",]$trait <- "leaf_phenology"; leaf_phenology[leaf_phenology$trait == "leaf_phenology" & leaf_phenology$value %in% c("EP", "E", "EAP", "EPB", "EAPB"),]$value <- "evergreen"; leaf_phenology[leaf_phenology$trait == "leaf_phenology" & leaf_phenology$value %in% c("DP"),]$value <- "deciduous"; leaf_phenology[leaf_phenology$trait == "leaf_phenology" & leaf_phenology$value %in% c("EDP", "EDPB", "P", "ED"),]$value <- NA; leaf_phenology <- leaf_phenology[!is.na(leaf_phenology$value),];
    life_history[life_history$trait == "longevity",]$trait <- "life_history"; life_history[life_history$trait == "life_history" & life_history$value %in% c("EP", "EDP", "P", "DP"),]$value <- "perennial"; life_history[life_history$trait == "life_history" & life_history$value %in% c("EAP"),]$value <- "annual perennial"; life_history[life_history$trait == "life_history" & life_history$value %in% c("EPB", "EDPB"),]$value <- "biennial perennial"; life_history[life_history$trait == "life_history" & life_history$value %in% c("EAPB"),]$value <- "annual biennial perennial"; life_history[life_history$trait %in% "life_history" & life_history$value %in% c("E","ED"),]$value <- NA; life_history <- life_history[!is.na(life_history$value),];
    data <- rbind(data[!data$trait %in% "longevity",], leaf_phenology, life_history); data[data$value %in% "articles",]$value <- c("article"); data[data$value %in% "article",]$trait <- c("leaf_type");
    data
traits:
- var_in: dispersal
  unit_in: .na
  trait_name: dispersal_syndrome
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: lifeform
  unit_in: .na
  trait_name: plant_growth_form
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: longevity
  unit_in: .na
  trait_name: leaf_phenology
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf type
  unit_in: .na
  trait_name: leaf_compoundness
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed shape
  unit_in: .na
  trait_name: seed_shape
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: flowering_time
  unit_in: .na
  trait_name: flowering_time
  value_type: unknown
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf length minimum
  unit_in: mm
  trait_name: leaf_length
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf length maximum
  unit_in: mm
  trait_name: leaf_length
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf width minimum
  unit_in: mm
  trait_name: leaf_width
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf width maximum
  unit_in: mm
  trait_name: leaf_width
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: plant height minimum
  unit_in: mm
  trait_name: plant_height
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: plant height maximum
  unit_in: mm
  trait_name: plant_height
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed length minimum
  unit_in: mm
  trait_name: seed_length
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed length maximum
  unit_in: mm
  trait_name: seed_length
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed width minimum
  unit_in: mm
  trait_name: seed_width
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed width maximum
  unit_in: mm
  trait_name: seed_width
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed breadth minimum
  unit_in: mm
  trait_name: seed_breadth
  value_type: min
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: seed breadth maximum
  unit_in: mm
  trait_name: seed_breadth
  value_type: max
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf_type
  unit_in: .na
  trait_name: leaf_type
  value_type: .na
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: leaf_phenology
  unit_in: .na
  trait_name: leaf_phenology
  value_type: .na
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
- var_in: life_history
  unit_in: .na
  trait_name: life_history
  value_type: .na
  replicates: unknown
  precision: unknown
  methodology_ids: unknown
substitutions:
- trait_name: plant_growth_form
  find: S
  replace: shrub
- trait_name: plant_growth_form
  find: TS
  replace: shrub tree
- trait_name: plant_growth_form
  find: SU
  replace: .na
- trait_name: plant_growth_form
  find: T
  replace: tree
- trait_name: plant_growth_form
  find: U
  replace: subshrub
- trait_name: plant_growth_form
  find: TSC
  replace: .na
- trait_name: plant_growth_form
  find: L
  replace: climber

